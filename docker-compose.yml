version: "3"

services:
  web:
    image: nginx:1.15-alpine
    volumes:
      - "./develop/nginx/sites:/etc/nginx/conf.d/"
      - "./hello-php/public:/hello-php/"
      - "./hello-js/public:/hello-js/"
    ports:
      - 80:80
    restart: always
    links:
      - php
  php:
    image: php:7.3-fpm-alpine
    volumes:
      - "./hello-php/:/hello-php/"
      - "./develop/composer.phar:/bin/composer"
      - "./develop/php/conf.d:/usr/local/etc/php/conf.d/00_php.ini"
    working_dir: "/hello-php"
    #expose: ## often seen, but it's more documentation than anything useful.
    #  - 9000